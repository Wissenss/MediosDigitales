<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ecommerce-mockup</title>

    <!-- bootstrap icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <!-- vue framework -->
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>

    <!-- maps api -->
    <script>
			const DEBUG = true;

			function initMap()
			{
				DEBUG && console.log("initMap called")

				if ("geolocation" in navigator == false) 
				{
					return alert("geolocation module is not available on browser")
				}

				const options = {
					enableHighAccuracy: true,
					timeout: 5000,
					maximumAge: 0,
				};

				navigator.geolocation.getCurrentPosition((pos) => {
					updateMapPos(pos.coords.latitude, pos.coords.longitude);
				}, (error) => { alert(error) }, options);
			}

			function updateMapPos(latitude, longitude)
			{
				DEBUG && console.log(`updating map... \nlatitude: ${latitude} longitude: ${longitude}`);

				const map = new google.maps.Map(document.getElementById("map"), {
					center: { lat: latitude, lng: longitude },
					zoom: 17,
					mapId: "8d193001f940fde3",
				});
			}
    </script>

    <script
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg&callback=initMap&libraries=places&v=weekly"
        defer
    >
		// PUBLIC KEY: AIzaSyB41DRUbKWJHPxaFjMAwdrzWzbVKartNGg
    </script>

    <!-- custom styles -->
    <link rel="stylesheet" href="main.css"/>

    <link rel="stylesheet" href="components/catalog.css"/>
    <link rel="stylesheet" href="components/catalogItem.css"/>
</head>
<body>
    
    <div id="app"></div>
		<div id="map" style="width: 600px; height: 600px;"></div>

    <!-- import app -->
    <script src="main.js"></script>

    <!-- import components -->
    <script src="components/catalog.js"></script>
    <script src="components/catalogItem.js"></script>

    <!-- mount app -->
    <script>
      const mountedApp = app.mount('#app');
  	</script>
</body>
</html>